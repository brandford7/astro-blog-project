---
---
<script>
  function setupMobileMenu() {
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    const menuOpen = document.getElementById('menu-open');
    const menuClose = document.getElementById('menu-close');

    if (mobileMenuButton && mobileMenu && menuOpen && menuClose) {
      mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
        menuOpen.classList.toggle('hidden');
        menuClose.classList.toggle('hidden');
      });

      document.addEventListener('click', (e) => {
        if (!mobileMenu.contains(e.target as Node) && 
            !mobileMenuButton.contains(e.target as Node) && 
            !mobileMenu.classList.contains('hidden')) {
          mobileMenu.classList.add('hidden');
          menuOpen.classList.remove('hidden');
          menuClose.classList.add('hidden');
        }
      });
    }
  }

  // Run on initial load
  setupMobileMenu();

  // Run on view transitions
  document.addEventListener('astro:page-load', setupMobileMenu);
</script>